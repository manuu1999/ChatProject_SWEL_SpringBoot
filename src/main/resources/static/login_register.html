<!-- This HTML File is a Teamwork from Dejen and Manuel  -->

<!DOCTYPE html>
<html>
<head>
    <!-- Define viewport for responsiveness -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <!-- Title of the web page -->
    <title>Chat Application for Software Engineering Module</title>
    <!-- This is the Link to our main.css File in the CSS folder -->
    <link rel="stylesheet" href="/css/main.css" />
</head>
<body>
<!-- Displayed when JavaScript is disabled -->
<noscript>
    <h2>Sorry! Your browser doesn't support Javascript</h2>
</noscript>


<!-- Div class specification for registration -->
<div id="registration-page" class="hidden">

    <div class="registration-page-container">
        <h1 class="title">Register for Chatroom</h1>
        <!-- Form for registration input -->
        <form id="registrationForm" name="registrationForm">
            <!-- Input fields for registration -->
            <div class="form-group">
                <input type="text" id="regUsername" placeholder="Username" autocomplete="off" class="form-control" />
            </div>
            <div class="form-group">
                <input type="password" id="regPassword" placeholder="Password" autocomplete="off" class="form-control" />
            </div>
            <!-- Button to submit registration -->
            <div class="form-group">
                <button type="submit" class="accent registration-submit">Register</button>
            </div>
        </form>
    </div>
</div>

<!-- Div class specification for login -->
<div id="login-page" class="hidden">
    <div class="login-page-container">
        <h1 class="title">Login to Chatroom</h1>
        <!-- Form for login input -->
        <form id="loginForm" name="loginForm">
            <!-- Input fields for login -->
            <div class="form-group">
                <input type="text" id="loginUsername" placeholder="Username" autocomplete="off" class="form-control" />
            </div>
            <div class="form-group">
                <input type="password" id="loginPassword" placeholder="Password" autocomplete="off" class="form-control" />
            </div>
            <!-- Button to submit login -->
            <div class="form-group">
                <button type="submit" class="accent login-submit">Login</button>
            </div>
        </form>
    </div>
</div>

<!-- Adjusted JavaScript functions for registration and login -->
<script>
  // Function to handle registration form submission
  function handleRegistration(event) {
    event.preventDefault();
    const regUsername = document.querySelector('#regUsername').value.trim();
    const regPassword = document.querySelector('#regPassword').value.trim();

    // Call the registerUser function passing username and password
    registerUser(regUsername, regPassword);
  }

  // Function to handle login form submission
  function handleLogin(event) {
    event.preventDefault();
    const loginUsername = document.querySelector('#loginUsername').value.trim();
    const loginPassword = document.querySelector('#loginPassword').value.trim();

    // Call the loginUser function passing username and password
    loginUser(loginUsername, loginPassword);
  }

  // Add event listeners to the registration and login forms
  document.querySelector('#registrationForm').addEventListener('submit', handleRegistration);
  document.querySelector('#loginForm').addEventListener('submit', handleLogin);
</script>

<!-- to use websocket we need to import it here -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<!-- This is the link to our main.js file in the js folder-->
<script src="/js/main.js"></script>
</body>
</html>



